apiVersion: apps/v1
kind: Deployment
metadata:
  name: pomerium
spec:
  template:
    spec:
      containers:
        - name: pomerium
          imagePullPolicy: IfNotPresent
          image: pomerium/ingress-controller:v0.29.2@sha256:5cf578913d4e63abdda3f91ba677d7169775b5cfc04fac0e4838455aab7236b7
          resources:
            limits:
              cpu: 5
              memory: 4Gi
            requests:
              cpu: 300m
              memory: 200Mi
      nodeSelector:
        glueops.dev/role: "glueops-platform"
      tolerations:
        - key: "glueops.dev/role"
          operator: "Equal"
          value: "glueops-platform"
          effect: "NoSchedule" 
